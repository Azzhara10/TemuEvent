<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - TemuEvent</title>
  <link rel="icon" type="image/x-icon" href="img/favicon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5" style="max-width:400px;">
  <h2 class="text-center mb-4">Login TemuEvent</h2>

  <!-- Form login -->
  <form id="loginForm">
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" id="email" class="form-control" required>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input type="password" id="password" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary w-100">Login</button>
  </form>

  <!-- Link daftar -->
  <p class="mt-3 text-center">
    Belum punya akun? <a href="register.html">Daftar dulu</a>
  </p>
</div>

<script>
  // Data admin hardcode
  const adminUser = {
    email: "admin@temuevent.com",
    password: "admin123",
    role: "admin"
  };

  document.getElementById("loginForm").addEventListener("submit", function(e){
    e.preventDefault();
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    // Cek login admin
    if(email === adminUser.email && password === adminUser.password){
      localStorage.setItem("loggedInUser", JSON.stringify(adminUser));
      alert("Login berhasil sebagai admin!");
      window.location.href = "index.html";
      return;
    }

    // Cek login user biasa
    let users = JSON.parse(localStorage.getItem("users")) || [];
    const user = users.find(u => u.email === email && u.password === password);
    if(user){
      localStorage.setItem("loggedInUser", JSON.stringify({...user, role:"user"}));
      alert("Login berhasil sebagai user!");
      window.location.href = "index.html";
      return;
    }

    alert("Email atau password salah! Jika belum daftar, klik 'Daftar dulu'.");
  });
</script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>

<!-- File JS tambahan -->
<script src="js/login.js"></script>

</body>
</html>
