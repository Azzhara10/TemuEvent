<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail Event Organizer | TemuEvent Makassar</title>
  <link rel="icon" type="image/x-icon" href="img/favicon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary" href="index.html">TemuEvent</a>
    </div>
  </nav>

  <!-- Konten Detail EO -->
  <div class="container mt-5 mb-5">
    <div class="card shadow-sm">
      <div class="card-body">
        <h2 id="eoName" class="text-primary"></h2>
        <p id="eoDesc" class="mt-3"></p>
        <p><strong>Kontak:</strong> <span id="eoContact"></span></p>
        <p><strong>Website:</strong> <a id="eoWebsite" href="#" target="_blank"></a></p>

        <div class="mt-4">
          <a id="whatsappBtn" class="btn btn-success btn-lg" target="_blank">
            Hubungi EO via WhatsApp
          </a>
          <a href="index.html" class="btn btn-secondary btn-lg ms-2">Kembali</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Ambil data EO dari URL
    const params = new URLSearchParams(window.location.search);
    const name = params.get("name");
    const desc = params.get("desc");
    const contact = params.get("contact");
    const website = params.get("website");

    // Masukkan data ke halaman
    document.getElementById("eoName").textContent = name;
    document.getElementById("eoDesc").textContent = desc;
    document.getElementById("eoContact").textContent = contact;
    document.getElementById("eoWebsite").textContent = website;
    document.getElementById("eoWebsite").href = website;

    // ==========================================================
    // ✔ PERBAIKAN FORMAT NOMOR WHATSAPP (versi paling aman)
    // ==========================================================

    let waNumber = contact.replace(/\D/g, ""); // Hapus spasi/dash/dll

    // Jika nomor mulai dengan "0" (contoh: 08123...) → hapus 0
    if (waNumber.startsWith("0")) {
      waNumber = waNumber.substring(1);
    }

    // Jika nomor mulai dengan "62" → hapus 62
    if (waNumber.startsWith("62")) {
      waNumber = waNumber.substring(2);
    }

    // Hasil akhir: waNumber sekarang "81234567890"
    // Tambahkan kembali 62 di depan
    const waLink = `https://wa.me/62${waNumber}?text=Halo%20${encodeURIComponent(name)}%2C%20saya%20tertarik%20dengan%20layanan%20EO%20Anda.`;

    // Pasang link ke tombol
    document.getElementById("whatsappBtn").href = waLink;

  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
